# Messenger

Веб-мессенджер с регистрацией, входом и чатом в реальном времени.

## Что реализовано

- Регистрация аккаунта
- Вход и выход
- Сессия через `httpOnly` cookie + JWT
- Поиск пользователей
- Личные диалоги
- Сообщения в реальном времени через WebSocket
- Адаптивный интерфейс

## Быстрый запуск

```bash
cmd /c npm install
cmd /c npm run dev
```

Приложение откроется на порту `3000`.

## Доступ не только через localhost

Сервер теперь по умолчанию слушает `0.0.0.0`, поэтому доступен из локальной сети.

1. Запустите сервер:

```bash
cmd /c npm start
```

2. Узнайте IP компьютера в сети (например, `192.168.1.23`).
3. Откройте с другого устройства: `http://192.168.1.23:3000`.
4. Разрешите входящий трафик на порт `3000` в firewall.

## Чтобы мог войти любой человек из интернета

Нужен публичный хостинг (VPS/облако) или туннель и HTTPS:

1. Разверните приложение на сервере с белым IP.
2. Откройте порты `80/443`.
3. Подключите домен.
4. Настройте HTTPS (например, через Nginx + Let's Encrypt).
5. Запускайте с переменными окружения:

```bash
set HOST=0.0.0.0
set PORT=3000
set JWT_SECRET=your_strong_secret
set COOKIE_SECURE=auto
set TRUST_PROXY=1
cmd /c npm start
```

## Переменные окружения

- `PORT` - порт сервера (по умолчанию `3000`)
- `HOST` - интерфейс прослушивания (`0.0.0.0` для внешнего доступа)
- `JWT_SECRET` - секрет подписи JWT
- `COOKIE_SECURE` - `auto`, `true` или `false`
- `TRUST_PROXY` - значение для `express trust proxy`
- `PUBLIC_URL` - опционально, публичный URL для логов

Пример: `.env.example`
